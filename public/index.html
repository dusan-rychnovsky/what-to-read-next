<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>What To Read Next?</title>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<header id="header">
			<h1>What To Read Next?</h1>
		</header>
		
		<script type="text/x-handlebars" data-template-name="books">
			<section id="content">
				<div id="search-bar">
					{{view Ember.TextField valueBinding="search" action="doSearch" autofocus="autofocus"}}
					<button {{action "doSearch"}} type="button">Hledat</button>
				</div>
				<div class="clear"></div>
				{{#each}}
				<div class="book">
					<img {{bind-attr src=imageUrl}} class="small" />
					<div class="title">{{#link-to 'book' this}}{{title}}{{/link-to}}</div>
					<ul>
						{{#each author in authors}}
						<li class="author">
							{{author.firstname}} {{author.lastname}}
						</li>
						{{/each}}
					</ul>
					<p>
						{{truncate description 300}}
					</p>
					<div class="clear"></div>
				</div>
				{{/each}}
			</section>
		</script>
		
		<script type="text/x-handlebars" data-template-name="book">
			<section id="content">
				<div class="book">
					<img {{bind-attr src=imageUrl}} />
					{{#link-to 'books' classNames="float-right"}}< ZpÄ›t na seznam{{/link-to}}
					<div id="description">
						<div class="title">{{title}}</div>
						<ul>
							{{#each author in authors}}
							<li class="author">
								{{author.firstname}} {{author.lastname}}
							</li>
							{{/each}}
						</ul>
						<p>
							{{description}}
						</p>
					</div>
					<div class="clear"></div>
				</div>
			</section>
		</script>
		
		<script src="js/libs/jquery-1.10.2.min.js"></script>
		<script src="js/libs/handlebars-1.3.0.js"></script>
		<script src="js/libs/ember.js"></script>
		<script src="js/libs/ember-data.js"></script>
		
		<script src="js/application.js"></script>
		<script src="js/router.js"></script>
		<script src="js/book.js"></script>
	</body>
</html>
